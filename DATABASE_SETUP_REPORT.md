# –û—Ç—á–µ—Ç –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç SSL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–∫–∞—á–∞–Ω –≤ `~/.cloud-certs/root.crt`
   - –ü—Ä–∞–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (0600)
   - ‚úÖ **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ù–£–ñ–ï–ù** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ–±–ª–∞—á–Ω–æ–π PostgreSQL

2. **PostgreSQL –∫–ª–∏–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   - –í–µ—Ä—Å–∏—è: PostgreSQL 16.11
   - –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:

### 1. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```
ERROR: permission denied for database "db_21day"
User does not have CONNECT privilege.
```

**–†–µ—à–µ–Ω–∏–µ:** –ù—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Timeweb:
- –ü—Ä–∞–≤–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ `db_21day`
- –ò–ª–∏ —É—Ç–æ—á–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

### 2. –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Supabase

**–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç** –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Supabase –∫–ª–∏–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç:
  - Supabase API endpoint (`VITE_SUPABASE_URL`)
  - Supabase Auth (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
  - Supabase Edge Functions (AI —Ñ—É–Ω–∫—Ü–∏–∏)
  - Supabase Realtime (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)

**–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –ù–ï –î–ê–°–¢:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Edge Functions (AI chat, AI quiz, AI image)
- Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Supabase Cloud + External PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Supabase Cloud (https://supabase.com)
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω—é—é PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Timeweb
3. Supabase –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç API
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: Self-hosted Supabase
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Supabase –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ Docker)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–µ–π PostgreSQL
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL (–æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ)
1. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Edge Functions —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API endpoints
4. –≠—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Timeweb
   - –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–∞–≤–∞ CONNECT –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `gen_user` –Ω–∞ –±–∞–∑—É `db_21day`

2. **–í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase:**
   - –†–µ–∫–æ–º–µ–Ω–¥—É—é –í–∞—Ä–∏–∞–Ω—Ç 1 (Supabase Cloud)
   - –≠—Ç–æ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
   - –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ 15 –º–∏–≥—Ä–∞—Ü–∏–π –∏–∑ `supabase/migrations/`

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `VITE_SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç–∞
   - `VITE_SUPABASE_PUBLISHABLE_KEY` - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
   - –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üéØ –í—ã–≤–æ–¥:

**–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ù–£–ñ–ï–ù** ‚úÖ - –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–ù–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ PostgreSQL:**
- –ù—É–∂–µ–Ω Supabase (Cloud –∏–ª–∏ self-hosted)
- –ù—É–∂–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î

